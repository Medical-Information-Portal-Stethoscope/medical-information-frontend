"use strict";(self.webpackChunkmedical_information_frontend=self.webpackChunkmedical_information_frontend||[]).push([[4087],{"./src/shared/popup/filters/filters.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return filters_stories}});var _Default$parameters,_Default$parameters2,_Default$parameters2$,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),dist=__webpack_require__("./node_modules/react-router-dom/dist/index.js"),es=__webpack_require__("./node_modules/react-redux/es/index.js"),store=__webpack_require__("./src/services/app/store.ts"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),hooks=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/services/app/hooks.tsx")),filter_checkbox=__webpack_require__("./src/shared/checkboxes/filter-checkbox/filter-checkbox.tsx"),button_with_icon=__webpack_require__("./src/shared/buttons/button-with-icon/button-with-icon.tsx"),api=__webpack_require__("./src/services/features/filter/api.ts"),slice=__webpack_require__("./src/services/features/information-material/slice.ts"),button_button=__webpack_require__("./src/shared/buttons/button/button.tsx"),icons=__webpack_require__("./src/shared/icons/index.tsx"),styles_module_filters__header="styles_filters__header__bsHZa",styles_module_filters__name="styles_filters__name__BHwUp",styles_module_filters="styles_filters__yazLh",styles_module_filters__content="styles_filters__content__YcXaT",styles_module_filters__close="styles_filters__close__QgOkK",styles_module_filters__section="styles_filters__section__65XGK",styles_module_filters__items="styles_filters__items__KsDxS",styles_module_filters__buttons="styles_filters__buttons__IGDVp",styles_module_filters__button="styles_filters__button__CBf5n",jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),FiltersPopup=function FiltersPopup(_ref){var handleCloseClick=_ref.handleCloseClick,allDiseasesTags=_ref.allDiseasesTags,allTags=_ref.allTags,newsTag=_ref.newsTag,activeTags=_ref.activeTags,setActiveTags=_ref.setActiveTags,isButtonShowPress=_ref.isButtonShowPress,setIsButtonShowPress=_ref.setIsButtonShowPress,activeTagsForClearModal=_ref.activeTagsForClearModal,setActiveTagsForClearModal=_ref.setActiveTagsForClearModal,activeTab=_ref.activeTab,dispatch=(0,hooks.T)(),sendFilters=function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(){var params,res,idsArr,filterParamsArr,_params,_res;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(activeTags.length){_context.next=13;break}return params=new URLSearchParams,newsTag&&params.set("tags_exclude",newsTag.pk),activeTab&&params.set("tags",activeTab.pk),_context.next=6,dispatch((0,api.V)(params.toString()));case 6:res=_context.sent,dispatch((0,slice.ml)(res.payload)),handleCloseClick(),setIsButtonShowPress(!0),setActiveTagsForClearModal(activeTags),_context.next=25;break;case 13:return idsArr=activeTags.map((function(item){return item.pk})),activeTab&&idsArr.push(activeTab.pk),filterParamsArr=idsArr.map((function(item){return["tags",item]})),_params=new URLSearchParams(filterParamsArr),newsTag&&_params.set("tags_exclude",newsTag.pk),_context.next=20,dispatch((0,api.V)(_params.toString()));case 20:_res=_context.sent,dispatch((0,slice.ml)(_res.payload)),handleCloseClick(),setIsButtonShowPress(!0),setActiveTagsForClearModal(activeTags);case 25:case"end":return _context.stop()}}),_callee)})));return function sendFilters(){return _ref2.apply(this,arguments)}}();function generateFilters(filtersArr){return filtersArr.map((function(item){return(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(filter_checkbox.Z,{id:item.pk,label:item.name,onChange:function onChange(){return function handleClickCheckbox(tag){activeTags.find((function(item){return item.pk===tag.pk}))?setActiveTags(activeTags.filter((function(item){return item.pk!==tag.pk}))):setActiveTags([].concat((0,toConsumableArray.Z)(activeTags),[tag]))}(item)},isChecked:!!activeTags.find((function(_ref3){return _ref3.pk===item.pk}))})},item.pk)}))}return(0,jsx_runtime.jsxs)("div",{className:styles_module_filters,children:[(0,jsx_runtime.jsx)(button_with_icon.Z,{ariaLabel:"Закрыть попап",icon:(0,jsx_runtime.jsx)(icons.J,{color:"blue",icon:"CloseIcon"}),hasBackground:!1,onClick:function handlePopupClose(){isButtonShowPress?activeTagsForClearModal&&setActiveTags(activeTagsForClearModal):setActiveTags([]),handleCloseClick()},extraClass:styles_module_filters__close}),(0,jsx_runtime.jsxs)("div",{className:styles_module_filters__content,children:[(0,jsx_runtime.jsx)("h2",{className:styles_module_filters__header,children:"Фильтры"}),(0,jsx_runtime.jsxs)("div",{className:styles_module_filters__section,children:[(0,jsx_runtime.jsx)("h3",{className:styles_module_filters__name,children:"Заболевания"}),(0,jsx_runtime.jsx)("ul",{className:styles_module_filters__items,children:generateFilters(allDiseasesTags)})]}),(0,jsx_runtime.jsxs)("div",{className:styles_module_filters__section,children:[(0,jsx_runtime.jsx)("h3",{className:styles_module_filters__name,children:"Теги"}),(0,jsx_runtime.jsx)("ul",{className:styles_module_filters__items,children:generateFilters(allTags)})]}),(0,jsx_runtime.jsxs)("div",{className:styles_module_filters__buttons,children:[(0,jsx_runtime.jsx)(button_button.Z,{label:"Очистить всё",model:"secondary",size:"small",hasBorder:!1,onClick:function clearFilters(){setActiveTags([])},extraClass:styles_module_filters__button}),(0,jsx_runtime.jsx)(button_button.Z,{label:"Показать",model:"primary",size:"small",hasBorder:!1,onClick:sendFilters,extraClass:styles_module_filters__button})]})]})]})};try{FiltersPopup.displayName="FiltersPopup",FiltersPopup.__docgenInfo={description:"",displayName:"FiltersPopup",props:{handleCloseClick:{defaultValue:null,description:"",name:"handleCloseClick",required:!0,type:{name:"() => void"}},allDiseasesTags:{defaultValue:null,description:"",name:"allDiseasesTags",required:!0,type:{name:"TTags[]"}},allTags:{defaultValue:null,description:"",name:"allTags",required:!0,type:{name:"TTags[]"}},newsTag:{defaultValue:null,description:"",name:"newsTag",required:!0,type:{name:"TTags | undefined"}},activeTags:{defaultValue:null,description:"",name:"activeTags",required:!0,type:{name:"TTags[]"}},setActiveTags:{defaultValue:null,description:"",name:"setActiveTags",required:!0,type:{name:"Dispatch<SetStateAction<TTags[]>>"}},isButtonShowPress:{defaultValue:null,description:"",name:"isButtonShowPress",required:!0,type:{name:"boolean"}},setIsButtonShowPress:{defaultValue:null,description:"",name:"setIsButtonShowPress",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},activeTagsForClearModal:{defaultValue:null,description:"",name:"activeTagsForClearModal",required:!0,type:{name:"TTags[] | null"}},setActiveTagsForClearModal:{defaultValue:null,description:"",name:"setActiveTagsForClearModal",required:!0,type:{name:"Dispatch<SetStateAction<TTags[] | null>>"}},activeTab:{defaultValue:null,description:"",name:"activeTab",required:!0,type:{name:"TTags | null"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/popup/filters/index.tsx#FiltersPopup"]={docgenInfo:FiltersPopup.__docgenInfo,name:"FiltersPopup",path:"src/shared/popup/filters/index.tsx#FiltersPopup"})}catch(__react_docgen_typescript_loader_error){}var filters_stories={title:"Components/Popup/FiltersPopup",component:FiltersPopup,tags:["autodocs"],decorators:[function(Story){return(0,jsx_runtime.jsx)(dist.VK,{children:(0,jsx_runtime.jsx)(es.zt,{store:store.h,children:(0,jsx_runtime.jsx)(Story,{})})})}]},Default={args:{allDiseasesTags:[],allTags:[]}};Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"{\n  args: {\n    allDiseasesTags: [],\n    allTags: []\n  }\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})});var __namedExportsOrder=["Default"]},"./src/services/app/hooks.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{C:function(){return useAppSelector},T:function(){return useAppDispatch}});var react_redux__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react-redux/es/index.js"),useAppDispatch=function useAppDispatch(){return(0,react_redux__WEBPACK_IMPORTED_MODULE_0__.I0)()},useAppSelector=react_redux__WEBPACK_IMPORTED_MODULE_0__.v9},"./src/services/app/store.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{h:function(){return store}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),redux_toolkit_esm=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),api=__webpack_require__("./src/services/features/information-material/api.ts"),slice=__webpack_require__("./src/services/features/user/slice.tsx"),rtk_query_react_esm=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/query/react/rtk-query-react.esm.js"),rtk_query_esm=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/query/rtk-query.esm.js"),api_routes=__webpack_require__("./src/utils/api-routes.ts"),tagsApi=(0,rtk_query_react_esm.LC)({reducerPath:"tags",baseQuery:(0,rtk_query_esm.ni)({baseUrl:api_routes.Z.baseUrl}),endpoints:function endpoints(builder){return{getRootsTags:builder.query({query:function query(){return api_routes.Z.endpoints.tags.roots}}),getSubtreeTags:builder.query({query:function query(id){return"/tags/".concat(id,"/subtree/")}}),getTagById:builder.query({query:function query(id){return"/tags/".concat(id,"/")}})}}}),information_material_slice=(tagsApi.useGetRootsTagsQuery,tagsApi.useGetSubtreeTagsQuery,tagsApi.useGetTagByIdQuery,__webpack_require__("./src/services/features/information-material/slice.ts")),authMiddleware=function authMiddleware(){return function(next){return function(action){return"user/login/fulfilled"===action.type&&localStorage.setItem("auth_token",action.payload.auth_token),next(action)}}};try{authMiddleware.displayName="authMiddleware",authMiddleware.__docgenInfo={description:"",displayName:"authMiddleware",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/services/features/user/middlewares.tsx#authMiddleware"]={docgenInfo:authMiddleware.__docgenInfo,name:"authMiddleware",path:"src/services/features/user/middlewares.tsx#authMiddleware"})}catch(__react_docgen_typescript_loader_error){}var _reducer,filter_api=__webpack_require__("./src/services/features/filter/api.ts"),filteredArticlesSlice=(0,redux_toolkit_esm.oM)({name:"filteredArticles",initialState:{articles:null,process:{isLoading:!1,error:null}},reducers:{getAllArticles:function getAllArticles(state,action){state.articles=action.payload}},extraReducers:function extraReducers(builder){builder.addCase(filter_api.R.fulfilled,(function(state,action){state.articles=action.payload})),builder.addCase(filter_api.R.rejected,(function(state,_ref){var payload=_ref.payload;state.process.isLoading=!1,state.process.error=void 0!==payload?payload:null})),builder.addCase(filter_api.V.fulfilled,(function(state,action){state.articles=action.payload})),builder.addCase(filter_api.V.rejected,(function(state,_ref2){var payload=_ref2.payload;state.process.isLoading=!1,state.process.error=void 0!==payload?payload:null}))}}),getAllArticles=filteredArticlesSlice.actions.getAllArticles;try{getAllArticles.displayName="getAllArticles",getAllArticles.__docgenInfo={description:"",displayName:"getAllArticles",props:{next:{defaultValue:null,description:"",name:"next",required:!0,type:{name:"string"}},previous:{defaultValue:null,description:"",name:"previous",required:!0,type:{name:"null"}},results:{defaultValue:null,description:"",name:"results",required:!0,type:{name:"TArticle[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/services/features/filter/slice.tsx#getAllArticles"]={docgenInfo:getAllArticles.__docgenInfo,name:"getAllArticles",path:"src/services/features/filter/slice.tsx#getAllArticles"})}catch(__react_docgen_typescript_loader_error){}var store=(0,redux_toolkit_esm.xC)({reducer:(_reducer={},(0,defineProperty.Z)(_reducer,api.PF.reducerPath,api.PF.reducer),(0,defineProperty.Z)(_reducer,tagsApi.reducerPath,tagsApi.reducer),(0,defineProperty.Z)(_reducer,"user",slice.Z),(0,defineProperty.Z)(_reducer,filteredArticlesSlice.name,filteredArticlesSlice.reducer),(0,defineProperty.Z)(_reducer,"content",information_material_slice.ZP),_reducer),middleware:function middleware(getDefaultMiddleware){return getDefaultMiddleware({serializableCheck:!1}).concat([authMiddleware,api.PF.middleware,tagsApi.middleware])}})},"./src/services/features/filter/api.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{R:function(){return getFilteredArticles},V:function(){return getFilteredArticlesForModal}});var _Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),utils_api_routes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/api-routes.ts"),getFilteredArticles=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.hg)("articles/getDataById",function(){var _ref2=(0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().mark((function _callee(ids,_ref){var rejectWithValue,res,resBody;return(0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return rejectWithValue=_ref.rejectWithValue,_context.prev=1,_context.next=4,fetch("".concat(utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.baseUrl).concat(utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.endpoints.articles.base,"/?tags_exclude=").concat(ids.idNewsTag,"&tags=").concat(ids.id));case 4:return res=_context.sent,_context.next=7,res.json();case 7:if(resBody=_context.sent,res.ok){_context.next=10;break}throw Object.assign(resBody,{status:null==res?void 0:res.status});case 10:return _context.abrupt("return",resBody);case 13:return _context.prev=13,_context.t0=_context.catch(1),_context.abrupt("return",rejectWithValue(_context.t0));case 16:case"end":return _context.stop()}}),_callee,null,[[1,13]])})));return function(_x,_x2){return _ref2.apply(this,arguments)}}()),getFilteredArticlesForModal=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.hg)("articles/getDataByIdforModal",function(){var _ref4=(0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.Z)((0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().mark((function _callee2(query,_ref3){var rejectWithValue,res,resBody;return(0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_3__.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return rejectWithValue=_ref3.rejectWithValue,_context2.prev=1,_context2.next=4,fetch("".concat(utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.baseUrl).concat(utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.endpoints.articles.base,"/?").concat(query));case 4:return res=_context2.sent,_context2.next=7,res.json();case 7:if(resBody=_context2.sent,res.ok){_context2.next=10;break}throw Object.assign(resBody,{status:null==res?void 0:res.status});case 10:return _context2.abrupt("return",resBody);case 13:return _context2.prev=13,_context2.t0=_context2.catch(1),_context2.abrupt("return",rejectWithValue(_context2.t0));case 16:case"end":return _context2.stop()}}),_callee2,null,[[1,13]])})));return function(_x3,_x4){return _ref4.apply(this,arguments)}}())},"./src/services/features/information-material/api.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{PF:function(){return informationMaterialApi},YP:function(){return getNextPageContent}});var _Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_reduxjs_toolkit_query_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/query/react/rtk-query-react.esm.js"),_reduxjs_toolkit_query_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/query/rtk-query.esm.js"),utils_api_routes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/utils/api-routes.ts"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),informationMaterialApi=(0,_reduxjs_toolkit_query_react__WEBPACK_IMPORTED_MODULE_1__.LC)({reducerPath:"informationMaterial",baseQuery:(0,_reduxjs_toolkit_query_react__WEBPACK_IMPORTED_MODULE_2__.ni)({baseUrl:utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.baseUrl}),tagTypes:[],endpoints:function endpoints(builder){return{getAllArticles:builder.query({query:function query(idNewsTag){return"".concat(utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.endpoints.articles.base,"/?tags_exclude=").concat(idNewsTag)}}),getAllNews:builder.query({query:function query(id){return"".concat(utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.endpoints.articles.base,"/?tags=").concat(id)}}),getMaterialById:builder.query({query:function query(id){return"".concat(utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.endpoints.articles.base,"/").concat(id)}}),getMostPopularArticle:builder.query({query:function query(){return"".concat(utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.endpoints.articles.base,"/the_most_popular")}}),getArticlesbyTags:builder.query({query:function query(tagsQuery){return"".concat(utils_api_routes__WEBPACK_IMPORTED_MODULE_0__.Z.endpoints.articles.base,"/?").concat(tagsQuery)}})}}}),getNextPageContent=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_3__.hg)("content/getNextPageContent",function(){var _ref2=(0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_4__.Z)((0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().mark((function _callee(nextUrl,_ref){var rejectWithValue,response,data;return(0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_5__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return rejectWithValue=_ref.rejectWithValue,_context.prev=1,_context.next=4,fetch("".concat(nextUrl));case 4:return response=_context.sent,_context.next=7,response.json();case 7:if(data=_context.sent,response.ok){_context.next=10;break}throw data;case 10:return _context.abrupt("return",data);case 13:return _context.prev=13,_context.t0=_context.catch(1),_context.abrupt("return",rejectWithValue(_context.t0));case 16:case"end":return _context.stop()}}),_callee,null,[[1,13]])})));return function(_x,_x2){return _ref2.apply(this,arguments)}}());informationMaterialApi.useGetAllArticlesQuery,informationMaterialApi.useGetAllNewsQuery,informationMaterialApi.useGetMaterialByIdQuery,informationMaterialApi.useGetMostPopularArticleQuery,informationMaterialApi.useGetArticlesbyTagsQuery},"./src/services/features/information-material/slice.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{ml:function(){return getFirstPageArticles}});var _Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),_api__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/services/features/information-material/api.ts"),contentSlice=(0,_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_1__.oM)({name:"content",initialState:{articles:{storage:[],nextPage:"",isAllArticles:!1},news:{storage:[],nextPage:"",isAllNews:!1},process:{isLoading:!1,error:""}},reducers:{getFirstPageArticles:function getFirstPageArticles(state,action){state.articles.storage=action.payload.results,state.articles.nextPage=action.payload.next,action.payload.next?state.articles.isAllArticles=!1:state.articles.isAllArticles=!0},getFirstPageNews:function getFirstPageNews(state,action){state.news.storage=action.payload.results,state.news.nextPage=action.payload.next},setIsAllArticles:function setIsAllArticles(state){state.news.isAllNews=!1,state.articles.isAllArticles=!1}},extraReducers:function extraReducers(builder){builder.addCase(_api__WEBPACK_IMPORTED_MODULE_0__.YP.pending,(function(state){state.process.isLoading=!0})),builder.addCase(_api__WEBPACK_IMPORTED_MODULE_0__.YP.fulfilled,(function(state,action){if(action.payload.results[0].tags.some((function(item){return"Новости"===item.name}))){var _state$news$storage,data=action.payload.results;(_state$news$storage=state.news.storage).push.apply(_state$news$storage,(0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(data)),action.payload.next?state.news.nextPage=action.payload.next:state.news.isAllNews=!0}else{var _state$articles$stora,_data=action.payload.results;(_state$articles$stora=state.articles.storage).push.apply(_state$articles$stora,(0,_Users_aleksandrdronov_Documents_pet_projects_medical_information_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_2__.Z)(_data)),action.payload.next?state.articles.nextPage=action.payload.next:state.articles.isAllArticles=!0}state.process.isLoading=!1})),builder.addCase(_api__WEBPACK_IMPORTED_MODULE_0__.YP.rejected,(function(state,action){action.payload&&(state.process.error=action.payload.detail,state.process.isLoading=!1)}))}}),_contentSlice$actions=contentSlice.actions,getFirstPageArticles=_contentSlice$actions.getFirstPageArticles;_contentSlice$actions.getFirstPageNews,_contentSlice$actions.setIsAllArticles;__webpack_exports__.ZP=contentSlice.reducer},"./src/services/features/user/slice.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return slice},v:function(){return resetServerError}});var redux_toolkit_esm=__webpack_require__("./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),api_routes=__webpack_require__("./src/utils/api-routes.ts"),registerUser=(0,redux_toolkit_esm.hg)("user/registration",function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(data,_ref){var rejectWithValue,res,resBody;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return rejectWithValue=_ref.rejectWithValue,_context.prev=1,_context.next=4,fetch("".concat(api_routes.Z.baseUrl).concat(api_routes.Z.endpoints.user.base),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});case 4:return res=_context.sent,_context.next=7,res.json();case 7:if(resBody=_context.sent,res.ok){_context.next=10;break}throw resBody;case 10:return _context.abrupt("return",resBody);case 13:return _context.prev=13,_context.t0=_context.catch(1),_context.abrupt("return",rejectWithValue(_context.t0));case 16:case"end":return _context.stop()}}),_callee,null,[[1,13]])})));return function(_x,_x2){return _ref2.apply(this,arguments)}}()),loginUser=(0,redux_toolkit_esm.hg)("user/login",function(){var _ref4=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(data,_ref3){var rejectWithValue,res,resBody;return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return rejectWithValue=_ref3.rejectWithValue,_context2.prev=1,_context2.next=4,fetch("".concat(api_routes.Z.baseUrl).concat(api_routes.Z.endpoints.user.auth.base).concat(api_routes.Z.endpoints.user.auth.login),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});case 4:return res=_context2.sent,_context2.next=7,res.json();case 7:if(resBody=_context2.sent,res.ok){_context2.next=10;break}throw resBody;case 10:return _context2.abrupt("return",resBody);case 13:return _context2.prev=13,_context2.t0=_context2.catch(1),_context2.abrupt("return",rejectWithValue(_context2.t0));case 16:case"end":return _context2.stop()}}),_callee2,null,[[1,13]])})));return function(_x3,_x4){return _ref4.apply(this,arguments)}}()),getUserPersonalData=(0,redux_toolkit_esm.hg)("user/personalData",function(){var _ref6=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee3(token,_ref5){var rejectWithValue,res,resBody;return(0,regeneratorRuntime.Z)().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return rejectWithValue=_ref5.rejectWithValue,_context3.prev=1,_context3.next=4,fetch("".concat(api_routes.Z.baseUrl).concat(api_routes.Z.endpoints.user.base).concat(api_routes.Z.endpoints.user.me),{headers:{Authorization:"Token ".concat(token)}});case 4:return res=_context3.sent,_context3.next=7,res.json();case 7:if(resBody=_context3.sent,res.ok){_context3.next=10;break}throw resBody;case 10:return _context3.abrupt("return",resBody);case 13:return _context3.prev=13,_context3.t0=_context3.catch(1),_context3.abrupt("return",rejectWithValue(_context3.t0));case 16:case"end":return _context3.stop()}}),_callee3,null,[[1,13]])})));return function(_x5,_x6){return _ref6.apply(this,arguments)}}());try{registerUser.displayName="registerUser",registerUser.__docgenInfo={description:"",displayName:"registerUser",props:{first_name:{defaultValue:null,description:"",name:"first_name",required:!0,type:{name:"string"}},last_name:{defaultValue:null,description:"",name:"last_name",required:!0,type:{name:"string"}},password:{defaultValue:null,description:"",name:"password",required:!0,type:{name:"string"}},re_password:{defaultValue:null,description:"",name:"re_password",required:!0,type:{name:"string"}},email:{defaultValue:null,description:"",name:"email",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/services/features/user/api.tsx#registerUser"]={docgenInfo:registerUser.__docgenInfo,name:"registerUser",path:"src/services/features/user/api.tsx#registerUser"})}catch(__react_docgen_typescript_loader_error){}try{loginUser.displayName="loginUser",loginUser.__docgenInfo={description:"",displayName:"loginUser",props:{password:{defaultValue:null,description:"",name:"password",required:!0,type:{name:"string"}},email:{defaultValue:null,description:"",name:"email",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/services/features/user/api.tsx#loginUser"]={docgenInfo:loginUser.__docgenInfo,name:"loginUser",path:"src/services/features/user/api.tsx#loginUser"})}catch(__react_docgen_typescript_loader_error){}try{getUserPersonalData.displayName="getUserPersonalData",getUserPersonalData.__docgenInfo={description:"",displayName:"getUserPersonalData",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/services/features/user/api.tsx#getUserPersonalData"]={docgenInfo:getUserPersonalData.__docgenInfo,name:"getUserPersonalData",path:"src/services/features/user/api.tsx#getUserPersonalData"})}catch(__react_docgen_typescript_loader_error){}var userSlice=(0,redux_toolkit_esm.oM)({name:"user",initialState:{user:null,process:{isLoading:!1,error:null}},reducers:{resetServerError:function resetServerError(state){state.process.error=null}},extraReducers:function extraReducers(builder){builder.addCase(registerUser.pending,(function(state){state.process.isLoading=!0})).addCase(registerUser.fulfilled,(function(state){state.process.isLoading=!1,state.process.error=null})).addCase(registerUser.rejected,(function(state,_ref){var payload=_ref.payload;state.process.isLoading=!1,state.process.error=void 0!==payload?payload:null})).addCase(loginUser.pending,(function(state){state.process.isLoading=!0})).addCase(loginUser.fulfilled,(function(state){state.process.isLoading=!1,state.process.error=null})).addCase(loginUser.rejected,(function(state,_ref2){var payload=_ref2.payload;state.process.isLoading=!1,state.process.error=void 0!==payload?payload:null})).addCase(getUserPersonalData.pending,(function(state){state.process.isLoading=!0})).addCase(getUserPersonalData.fulfilled,(function(state,_ref3){var payload=_ref3.payload;state.process.isLoading=!1,state.process.error=null,state.user=payload})).addCase(getUserPersonalData.rejected,(function(state,_ref4){var payload=_ref4.payload;state.process.isLoading=!1,state.process.error=void 0!==payload?payload:null})).addDefaultCase((function(state){return state}))}}),resetServerError=userSlice.actions.resetServerError,slice=userSlice.reducer;try{resetServerError.displayName="resetServerError",resetServerError.__docgenInfo={description:"",displayName:"resetServerError",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/services/features/user/slice.tsx#resetServerError"]={docgenInfo:resetServerError.__docgenInfo,name:"resetServerError",path:"src/services/features/user/slice.tsx#resetServerError"})}catch(__react_docgen_typescript_loader_error){}},"./src/shared/buttons/button-with-icon/button-with-icon.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return ButtonWithIcon}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),button_with_icon_module={button:"button-with-icon_button__8RSfQ",background:"button-with-icon_background__6NJaD"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function ButtonWithIcon(_ref){var icon=_ref.icon,ariaLabel=_ref.ariaLabel,_ref$hasBackground=_ref.hasBackground,hasBackground=void 0===_ref$hasBackground||_ref$hasBackground,_ref$isDisabled=_ref.isDisabled,isDisabled=void 0!==_ref$isDisabled&&_ref$isDisabled,_ref$isLoading=_ref.isLoading,isLoading=void 0!==_ref$isLoading&&_ref$isLoading,extraClass=_ref.extraClass,onClick=_ref.onClick;return(0,jsx_runtime.jsx)("button",{className:classnames_default()(button_with_icon_module.button,extraClass,(0,defineProperty.Z)({},button_with_icon_module.background,hasBackground)),type:"button","aria-label":ariaLabel,disabled:isDisabled||isLoading,onClick:onClick,children:icon})}try{buttonwithicon.displayName="buttonwithicon",buttonwithicon.__docgenInfo={description:"",displayName:"buttonwithicon",props:{icon:{defaultValue:null,description:"",name:"icon",required:!0,type:{name:"ReactNode"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!0,type:{name:"string"}},hasBackground:{defaultValue:{value:"true"},description:"",name:"hasBackground",required:!1,type:{name:"boolean"}},isDisabled:{defaultValue:{value:"false"},description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},extraClass:{defaultValue:null,description:"",name:"extraClass",required:!1,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/buttons/button-with-icon/button-with-icon.tsx#buttonwithicon"]={docgenInfo:buttonwithicon.__docgenInfo,name:"buttonwithicon",path:"src/shared/buttons/button-with-icon/button-with-icon.tsx#buttonwithicon"})}catch(__react_docgen_typescript_loader_error){}},"./src/shared/buttons/button/button.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return Button}});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),circle_with_dots=__webpack_require__("./src/shared/preloaders/circle-with-dots/circle-with-dots.tsx"),button_module={button:"button_button__zGY5l","button--small":"button_button--small__g70Lc","button--medium":"button_button--medium__Z78fI","button--hasBorder":"button_button--hasBorder__ymNPt","button--hasBorder--loading":"button_button--hasBorder--loading__O8SAb",content:"button_content__YwPe9","button--primary":"button_button--primary__vK4Z1","button--primary--loading":"button_button--primary--loading__jNdTU","button--secondary":"button_button--secondary__Yhpgk","button--secondary--loading":"button_button--secondary--loading__GUSAU","button--tertiary":"button_button--tertiary__JwcgS"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function Button(_ref){var _classNames,extraClass=_ref.extraClass,_ref$type=_ref.type,type=void 0===_ref$type?"button":_ref$type,label=_ref.label,_ref$model=_ref.model,model=void 0===_ref$model?"primary":_ref$model,_ref$size=_ref.size,size=void 0===_ref$size?"medium":_ref$size,_ref$hasBorder=_ref.hasBorder,hasBorder=void 0!==_ref$hasBorder&&_ref$hasBorder,customIcon=_ref.customIcon,_ref$isDisabled=_ref.isDisabled,isDisabled=void 0!==_ref$isDisabled&&_ref$isDisabled,_ref$isLoading=_ref.isLoading,isLoading=void 0!==_ref$isLoading&&_ref$isLoading,loadingLabel=_ref.loadingLabel,_ref$hasSpinner=_ref.hasSpinner,hasSpinner=void 0!==_ref$hasSpinner&&_ref$hasSpinner,spinnerSize=_ref.spinnerSize,spinnerColor=_ref.spinnerColor,onClick=_ref.onClick;return(0,jsx_runtime.jsx)("button",{className:classnames_default()(button_module.button,extraClass,button_module["button--".concat(model)],button_module["button--".concat(size)],(_classNames={},(0,defineProperty.Z)(_classNames,button_module["button--".concat(model,"--loading")],isLoading),(0,defineProperty.Z)(_classNames,button_module["button--hasBorder"],hasBorder),(0,defineProperty.Z)(_classNames,button_module["button--hasBorder--loading"],isLoading&&hasBorder),_classNames)),type:type,disabled:isDisabled||isLoading,onClick:onClick,children:(0,jsx_runtime.jsxs)("span",{className:button_module.content,children:[hasSpinner&&isLoading&&"tertiary"!==model&&(0,jsx_runtime.jsx)(circle_with_dots.$,{size:spinnerSize,color:spinnerColor})||null,customIcon||null,isLoading&&loadingLabel?loadingLabel:label]})})}try{button.displayName="button",button.__docgenInfo={description:"",displayName:"button",props:{extraClass:{defaultValue:null,description:"",name:"extraClass",required:!1,type:{name:"string"}},type:{defaultValue:{value:"button"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"button"'},{value:'"reset"'},{value:'"submit"'}]}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},model:{defaultValue:{value:"primary"},description:"",name:"model",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"tertiary"'}]}},size:{defaultValue:{value:"medium"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"medium"'}]}},hasBorder:{defaultValue:{value:"false"},description:"",name:"hasBorder",required:!1,type:{name:"boolean"}},customIcon:{defaultValue:null,description:"",name:"customIcon",required:!1,type:{name:"ReactNode"}},isDisabled:{defaultValue:{value:"false"},description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},isLoading:{defaultValue:{value:"false"},description:"",name:"isLoading",required:!1,type:{name:"boolean"}},loadingLabel:{defaultValue:null,description:"",name:"loadingLabel",required:!1,type:{name:"string"}},hasSpinner:{defaultValue:{value:"false"},description:"",name:"hasSpinner",required:!1,type:{name:"boolean"}},spinnerSize:{defaultValue:null,description:"",name:"spinnerSize",required:!1,type:{name:"enum",value:[{value:'"big"'},{value:'"small"'}]}},spinnerColor:{defaultValue:null,description:"",name:"spinnerColor",required:!1,type:{name:"enum",value:[{value:'"gray"'},{value:'"blue"'},{value:'"white"'}]}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/buttons/button/button.tsx#button"]={docgenInfo:button.__docgenInfo,name:"button",path:"src/shared/buttons/button/button.tsx#button"})}catch(__react_docgen_typescript_loader_error){}},"./src/shared/checkboxes/filter-checkbox/filter-checkbox.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return FilterCheckbox}});var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),filter_checkbox_module={checkbox:"filter-checkbox_checkbox__hJzVk",label:"filter-checkbox_label__r3M8w"},jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function FilterCheckbox(_ref){var extraClass=_ref.extraClass,id=_ref.id,label=_ref.label,_ref$isChecked=_ref.isChecked,isChecked=void 0!==_ref$isChecked&&_ref$isChecked,_ref$isDisabled=_ref.isDisabled,isDisabled=void 0!==_ref$isDisabled&&_ref$isDisabled,onChange=_ref.onChange;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("input",{className:classnames_default()(filter_checkbox_module.checkbox,extraClass),id:id,type:"checkbox",name:label,value:label,checked:isChecked,disabled:isDisabled,"aria-label":isChecked?"Убрать фильтр":"Добавить",onChange:onChange}),(0,jsx_runtime.jsx)("label",{className:filter_checkbox_module.label,htmlFor:id,children:label})]})}try{filtercheckbox.displayName="filtercheckbox",filtercheckbox.__docgenInfo={description:"",displayName:"filtercheckbox",props:{extraClass:{defaultValue:null,description:"",name:"extraClass",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},isChecked:{defaultValue:{value:"false"},description:"",name:"isChecked",required:!1,type:{name:"boolean"}},isDisabled:{defaultValue:{value:"false"},description:"",name:"isDisabled",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/shared/checkboxes/filter-checkbox/filter-checkbox.tsx#filtercheckbox"]={docgenInfo:filtercheckbox.__docgenInfo,name:"filtercheckbox",path:"src/shared/checkboxes/filter-checkbox/filter-checkbox.tsx#filtercheckbox"})}catch(__react_docgen_typescript_loader_error){}},"./src/utils/api-routes.ts":function(__unused_webpack_module,__webpack_exports__){var api=Object.freeze({baseUrl:"https://stethoscope.acceleratorpracticum.ru/api/v1/",endpoints:{articles:{base:"articles"},user:{base:"users/",auth:{base:"auth/",login:"login/",logout:"logout/"},signupActivation:"activation/",password:{reset:"reset_password/",resetConfirmation:"reset_password_confirm/"},me:"me/"},tags:{all:"/tags",roots:"/tags/roots"}}});__webpack_exports__.Z=api}}]);